第四章 习题

1.  为什么把进程的地址空间划分为“内核空间”和“用户空间”？

2.  为什么说每个进程都拥有3G私有的用户空间？

3.  内核空间存放什么内容？如何把其中的一个虚地址转换成物理地址？

4.  什么是内核映象？它存放在物理空间和内核空间的什么地方？

5.  用户空间划分为哪几部分？用户程序调用malloc()分配的内存属于哪一部分？

6.  mm_struct结构描述了用户空间的哪些方面？内核对该结构如何组织？查看源代码

7.  vm_area_struct结构描述了虚存区的哪些方面？内核对该结构如何组织？查看源代码

8.  为什么把进程的用户地址空间划分为一个个区间？

9.  结合图4.6，叙述task_struct、mm_struct、vm_area_struct及页目录等数据结构之间的关系，并说明哪些数据结构与物理内存和进程的地址空间相关，是如何相关的？

10. 进程用户空间何时创建？如何创建？

11. 什么是虚存映射？有哪几种类型？

12. 一个进程一般包含哪些虚存区？举例说明。

13. 说明mmap()系统调用的功能？利用mmap()写一个拷贝文件的程序。

14. 对图4.8进程详细描述

15. Linux是如何实现“请求调页”的？

16. 系统启动后，物理内存的布局如何？动态内存存放什么？

17. 试叙述伙伴算法的工作原理，并说明为什么伙伴算法可以消除外碎片？

18. 画出物理页面分配和回收的流程图，其中所采用的算法为伙伴算法。

19. Linux为什么要采用slab分配机制？

20. 举例说明slab专用缓冲区和通用缓冲区的使用。

21. 内核的非连续空间位于何处？给出创建非连续区的实现算法。

22. vmalloc()和kmalloc()有何区别？编写内核模块程序，调用这两个函数以观察二者所分配空间位于不同的区域。

23. 在面交换中，必须考虑哪几个方面的问题？哪些页不应当被换出？

24. 对系统空闲时换出页面的策略进行分析，说明“抖动”发生的概率有多大？这种策略在什么情况下实施起来有较好的效果？

25. 分析守护进程kswapd的运行时机，你认为怎样换出页面比较合理？

26. 分析并调试实例程序。
