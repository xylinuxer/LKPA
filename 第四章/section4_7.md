## 4.7 本章小结

一个程序编译链接后形成的地址空间本身就是一个虚拟地址空间，对于内核代码而言，它存放在4G虚拟空间的3G以上，对于用户程序而言，存放在3G一下的虚拟地址空间。但是不管是内核还是用户程序，最终运行时还是要被搬到物理内存中。本章的核心就是围绕虚地址到物理地址的转换，由此引发出了各种问题，比如地址映射问题，一方面把可执行映像映射到虚拟地址空间，另一方面把虚地址空间映射到物理地址空间。而在程序执行时，涉及到请页问题，把虚空间中的页真正搬到物理空间，由此要对物理空间进行分配和回收，而在物理内存不够时，又必须进行内外交换，交换的效率直接影响系统的性能，于是缓冲和刷新技术粉墨登场。

本章最后一节给出了一个比较完整的例子，说明内存管理在实际中的应用。